<div class="container-fluid update-customer-page">
  <div class="row min-vh-100 align-items-stretch">
    <!-- Sol panel -->
    <div class="col-md-4 col-lg-3 bg-dark rounded-start p-3 search-panel">
      <app-search-customer-form
        (search)="onSearch($event)"
        (clear)="onClear()"
      ></app-search-customer-form>
    </div>

    <!-- Sağ panel -->
    <div class="col-md-8 col-lg-9 bg-white rounded-end p-4 form-panel">
      <!-- Üst tab header -->
      <div class="tab-header d-flex justify-content-between gap-3 mb-3" *ngIf="!showResults">
        <button class="tab-btn flex-fill active">Customer Info</button>
        <button class="tab-btn flex-fill">Customer Account</button>
        <button class="tab-btn flex-fill">Address</button>
        <button class="tab-btn flex-fill">Contact Medium</button>
      </div>

      <!-- Loader -->
      <app-loader *ngIf="isLoading()"></app-loader>

      <!-- Arama sonuçları -->
      <app-search-customer-results
        *ngIf="showResults && !isLoading()"
        [customers]="customers"
        (select)="onSelectCustomer($event)"
        (next)="nextPage()"
        (prev)="previousPage()"
      ></app-search-customer-results>

      <!-- Güncelleme formu -->
      <app-update-personal-info
        *ngIf="!showResults && !isLoading()"
        [customer]="customerService.state()"
      ></app-update-personal-info>
    </div>
  </div>
</div>
