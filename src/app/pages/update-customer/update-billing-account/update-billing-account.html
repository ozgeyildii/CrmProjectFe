<div class="card border-warning p-3 customer-account-section">
  <!-- Header -->
  <div
    class="d-flex justify-content-between align-items-center flex-wrap mb-3 border-bottom pb-2"
  >
    <h5 class="text-orange fw-semibold mb-2 mb-md-0">Customer Accounts</h5>
    <button class="btn btn-sm btn-warning text-white" (click)="createAccount()">
      + Add Customer Account
    </button>
  </div>

  <!-- Column Headers -->
  <div
    class="d-none d-md-flex fw-semibold text-secondary bg-light rounded px-3 py-2 border border-warning mb-2"
  >
    <div class="col text-center col-md-2">Account Status</div>
    <div class="col text-center col-md-3">Account Number</div>
    <div class="col text-center col-md-3">Account Name</div>
    <div class="col text-center col-md-2">Account Type</div>
    <div class="col text-end col-md-2">Action</div>
  </div>

  <!-- ACCORDION -->
  <div class="accordion" id="accountsAccordion">
    <div class="accordion-item mb-2" *ngFor="let acc of accounts(); let i = index">
      <h2 class="accordion-header">
        <button
          class="accordion-button collapsed bg-white"
          type="button"
          data-bs-toggle="collapse"
          [attr.data-bs-target]="'#collapse' + i"
          aria-expanded="false"
          [attr.aria-controls]="'collapse' + i"
        >
          <div class="row w-100 align-items-center text-center">
            <div class="col-6 col-md-2 fw-semibold text-success">{{ acc.status }}</div>
            <div class="col-6 col-md-3">{{ acc.accountNumber }}</div>
            <div class="col-12 col-md-3 d-md-block text-truncate">{{ acc.accountName }}</div>
            <div class="col-6 col-md-2">{{ acc.type }}</div>
            <div class="col-6 col-md-2 text-end">
              <i
                class="bi bi-trash me-2 text-danger"
                (click)="deleteAccount(acc.id)"
              ></i>
              <i class="bi bi-pencil text-orange"></i>
            </div>
          </div>
        </button>
      </h2>

      <!-- Accordion Body -->
      <div
        [id]="'collapse' + i"
        class="accordion-collapse collapse"
        [attr.data-bs-parent]="'#accountsAccordion'"
      >
        <div class="accordion-body bg-white border-top border-warning rounded-bottom">
          <div class="table-responsive">
            <table class="table table-bordered table-sm align-middle">
              <thead class="table-light">
                <tr class="text-center">
                  <th>Product ID</th>
                  <th>Product Name</th>
                  <th>Campaign Name</th>
                  <th>Campaign ID</th>
                  <th>Action</th>
                </tr>
              </thead>
              <tbody>
                <tr *ngFor="let acc of accounts()" class="text-center">
                  <td>Product id</td>
                  <td>Product name</td>
                  <td>Campaign Name</td>
                  <td>Campaign ID</td>
                  <td>
                    <i class="bi bi-trash me-2 text-danger"></i>
                    <i class="bi bi-eye text-orange"></i>
                  </td>
                </tr>
              </tbody>
            </table>
          </div>

          <div class="d-flex flex-wrap gap-2 justify-content-end mt-3">
            <button
              class="btn btn-outline-warning btn-sm"
              (click)="goToOfferSelection(acc.id)"
            >
              Start New Sale
            </button>
            <button class="btn btn-outline-warning btn-sm">Transfer</button>
            <button class="btn btn-outline-warning btn-sm">Service Address Change</button>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- Pagination -->
  <div
    class="d-flex justify-content-center justify-content-md-end align-items-center mt-3 flex-wrap gap-2"
  >
    <button class="btn btn-outline-secondary btn-sm" (click)="prevPage()">
      &lt;
    </button>
    <span class="fw-medium">1 / 3</span>
    <button class="btn btn-outline-secondary btn-sm" (click)="nextPage()">
      &gt;
    </button>
  </div>
</div>
